## 要件定義書：英語シャドーイング練習ツール（MVP版）

### 1. プロジェクト概要

**目的**: YouTubeの動画を活用して英語のシャドーイング練習を効率的に行えるWebアプリケーションの開発

**対象ユーザー**: 英語学習者（シャドーイング練習を行いたい人）

**開発方針**: 最小限の機能（MVP）からスタートし、段階的に機能を拡張

### 2. 機能要件

#### 2.1 動画再生機能
- YouTube動画のURL入力機能
- 入力されたURLの動画を埋め込み表示
- 動画の再生/一時停止/停止機能

#### 2.2 区間設定機能
- 開始時間と終了時間を指定する入力フィールド
- 時間形式：MM:SS（分:秒）での入力
- 設定した区間のみを再生する機能

#### 2.3 リピート再生機能
- 設定した区間を自動的に繰り返し再生
- リピート再生のON/OFF切り替え
- リピート回数の設定（無限ループ対応）

#### 2.4 録音機能
- マイクへのアクセス許可取得
- 録音開始/停止ボタン
- 録音中の視覚的フィードバック（録音インジケーター）

#### 2.5 録音再生機能
- 録音した音声をブラウザ上で再生
- 再生/一時停止/停止コントロール
- 音量調整機能

#### 2.6 録音保存機能
- 録音データをローカルファイルとしてダウンロード
- ファイル形式：WebM または MP3
- ファイル名の自動生成（日時ベース）

### 3. 非機能要件

#### 3.1 ユーザビリティ
- 直感的で分かりやすいUI
- レスポンシブデザイン（PC/タブレット対応）
- 日本語インターフェース

#### 3.2 パフォーマンス
- 動画の読み込み時間：3秒以内
- 録音の遅延：最小限に抑える

#### 3.3 ブラウザ互換性
- Chrome（最新版）
- Firefox（最新版）
- Edge（最新版）
- Safari（最新版）

### 4. 技術仕様

#### 4.1 フロントエンド
- HTML5
- CSS3
- JavaScript（ES6+）
- YouTube IFrame Player API
- Web Audio API / MediaRecorder API

#### 4.2 データ保存
- 録音データ：ブラウザメモリ（一時保存）
- 設定情報：LocalStorage（オプション）

### 5. UI/UX設計

#### 5.1 画面構成
```
┌─────────────────────────────────────┐
│  YouTube URL入力フィールド           │
├─────────────────────────────────────┤
│                                     │
│     YouTube動画プレーヤー            │
│                                     │
├─────────────────────────────────────┤
│  区間設定：開始 [__:__] 終了 [__:__] │
│  □ リピート再生  回数：[∞]          │
├─────────────────────────────────────┤
│  [●録音開始] [■録音停止]            │
├─────────────────────────────────────┤
│  録音済み音声：                      │
│  [▶再生] [⏸一時停止] [💾保存]       │
└─────────────────────────────────────┘
```

### 6. 制約事項

- YouTube動画の著作権に配慮し、個人学習目的での使用に限定
- CORS制限により、一部のYouTube動画では制限がある可能性
- ブラウザのセキュリティポリシーによりマイクアクセスにはHTTPS接続が必要

### 7. 今後の拡張可能性（将来的な機能）

- 字幕表示機能
- 再生速度調整
- 複数区間の保存・管理
- 録音履歴の管理
- 音声波形の可視化
